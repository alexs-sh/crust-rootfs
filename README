Сборка КФС Debian
============

Описание
-----------------------
Набор скриптов для автоматической генерации и настройки корневой файловой системы (КФС/rootfs) Debian. 
Скрипты предназначены для запуска в ОС Debian/Ubuntu. 
В ходе работы будут автоматически установлены пакеты, необходимые для сборки. Установка пакетов, а так же
запуск chroot требует запуск с правами root'а.
Для настройки сборщика используется 3 переменных:

1. TARGET_ARCH - архитектура целевого утсройства (armhf)
2. TARGET_PACKAGES -  перечень пакетов для установки и настройки. Список пакетов можно получить командой: ls armhf | cut -f1 -d.
3. TARGET_BUILD_DIR - директория для сборки

Примеры:
---------
sudo TARGET_BUILD_DIR=/chroot TARGET_ARCH=armhf TARGET_PACKAGES=host-tools,base,boost,network ./builder.sh 

Скрипт установит на хост пакеты, которые необходимы для сборки КФС, создаст КФС, установит в неё базовые пакеты, библиотеку boost, дефолтные сетевые службы и адреса.

sudo TARGET_BUILD_DIR=/chroot TARGET_ARCH=armhf TARGET_PACKAGES=base,boost ./builder.sh 

Установит базовую систему и библиотеку boost


!ВНИМАНИЕ
---------
Порядок следования пакетов имеет значение. 

1. Если КФС пуста, то ни одна сборка не пройдет, пока не будет установлен пакет base
2. Пакеты, конфигурирующие сеть, следует устанавливать последними, т.к. они изменяют IP - адреса, шлюзы и DNS-сервера на 
дефолтные для устройства. После таких настроек корректная работа apt из chroot не гарантируется.

sudo TARGET_ARCH=armhf TARGET_PACKAGES=base,network,boost ./builder.sh 

network задаст в КФС дефолтный адрес 192.168.1.28 и шлюз 192.168.1.1. Когда сборщик дойдет до пакета boost он попытается
получить файлы буста используя именно эти шлюзы. Если такая настройка совпадает с сетью, в которой находится хост, то все будет
хорошо. Если нет, то apt не сможет получить пакеты и сборка будет прервана



